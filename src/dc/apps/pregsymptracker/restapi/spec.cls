Class dc.apps.pregsymptracker.restapi.spec Extends %REST.Spec [ ProcedureBlock ]
{

XData OpenAPI [ MimeType = application/json ]
{
{
  "swagger":"2.0",
  "info":{
    "title":"Pregnacy symptoms tracker",
    "version":"1.0"
  },
  "basePath":"/csp/preg-symp-tracker/api",
  "schemes":[
    "http",
    "https"
  ],
  "securityDefinitions":{
    "basicAuth":{
      "type":"basic"
    }
  },
  "paths":{
    "/symptom":{
      "post":{
        "operationId":"PostSymptom",
        "security":[
          {
            "basicAuth":[
            ]
          }
        ],
        "description":"Used for patients report their symptoms",
        "consumes":[
          "application/json"
        ],
        "produces":[
          "application/json"
        ],
        "parameters":[
          {
            "in":"body",
            "name":"body",
            "description":"Patient symptom report",
            "required":true,
            "schema":{
              "$ref":"#/definitions/Symptom"
            }
          }
        ],
        "responses":{
          "200":{
            "description":"OK"
          }
        }
      },
      "get":{
        "operationId":"GetSymptom",
        "security":[
          {
            "basicAuth":[
            ]
          }
        ],
        "description":"Retrieves a patient symptom",
        "produces":[
          "application/json"
        ],
        "parameters":[
          {
            "in":"query",
            "name":"id",
            "required":true,
            "type":"integer"
          }
        ],
        "responses":{
          "200":{
            "description":"OK",
            "examples":{
              "application/json":{
                "subject":{
                  "reference":"Patient/1"
                },
                "code":{
                  "coding":[
                    {
                      "system":"http://loinc.org",
                      "code":"45708-5",
                      "display":"Vomiting [Minimum Data Set]"
                    }
                  ],
                  "text":"Vomiting"
                },
                "effectiveDateTime":"2022-11-19T22:36:00Z"
              }
            }
          }
        }
      },
      "put":{
        "operationId":"PutSymptom",
        "security":[
          {
            "basicAuth":[
            ]
          }
        ],
        "description":"Edit a patient symptom",
        "consumes":[
          "application/json"
        ],
        "produces":[
          "application/json"
        ],
        "parameters":[
          {
            "in":"query",
            "name":"id",
            "required":true,
            "type":"integer"
          },
          {
            "in":"body",
            "name":"body",
            "description":"Patient symptom report",
            "required":true,
            "schema":{
              "$ref":"#/definitions/Symptom"
            }
          }
        ],
        "responses":{
          "200":{
            "description":"OK"
          }
        }
      },
      "delete":{
        "operationId":"DeleteSymptom",
        "security":[
          {
            "basicAuth":[
            ]
          }
        ],
        "description":"",
        "consumes":[
          "application/json"
        ],
        "parameters":[
          {
            "in":"query",
            "name":"id",
            "required":true,
            "type":"integer"
          }
        ],
        "responses":{
          "200":{
            "description":"OK"
          }
        }
      }
    },
    "/symptoms":{
      "get":{
        "operationId":"GetSymptoms",
        "security":[
          {
            "basicAuth":[
            ]
          }
        ],
        "description":"Retrives current patient symptoms",
        "parameters":[
        ],
        "responses":{
          "200":{
            "description":"OK",
            "examples":{
              "application/json":[
                {
                  "subject":{
                    "reference":"Patient/1"
                  },
                  "code":{
                    "coding":[
                      {
                        "system":"http://loinc.org",
                        "code":"45708-5",
                        "display":"Vomiting [Minimum Data Set]"
                      }
                    ],
                    "text":"Vomiting"
                  },
                  "effectiveDateTime":"2022-11-19T22:36:00Z"
                }
              ]
            }
          }
        }
      }
    },
    "/_spec":{
      "get":{
        "operationId":"GetOpenAPISpec",
        "description":"OpenAPI definition",
        "parameters":[
        ],
        "responses":{
          "200":{
            "description":"OK"
          }
        }
      }
    }
  },
  "definitions":{
    "Symptom":{
      "type":"object",
      "properties":{
        "subject":{
          "type":"object",
          "properties":{
            "reference":{
              "type":"string",
              "example":"Patient/1"
            }
          }
        },
        "code":{
          "type":"object",
          "properties":{
            "coding":{
              "type":"array",
              "items":{
                "type":"object",
                "properties":{
                  "system":{
                    "type":"string",
                    "example":"http://loinc.org"
                  },
                  "code":{
                    "type":"string",
                    "example":"45708-5"
                  },
                  "display":{
                    "type":"string",
                    "example":"Vomiting [Minimum Data Set]"
                  }
                }
              }
            },
            "text":{
              "type":"string",
              "example":"Vomiting"
            }
          }
        },
        "effectiveDateTime":{
          "type":"string",
          "example":"2022-11-19T22:36:00Z"
        }
      }
    }
  }
}
}

}
